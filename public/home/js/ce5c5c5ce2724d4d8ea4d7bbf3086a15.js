(function(){var doT={version:"1.0.3",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:true,append:true,selfcontained:false,doNotSkipEncoded:false},template:undefined,compile:undefined},_globals;doT.encodeHTMLSource=function(doNotSkipEncoded){var encodeHTMLRules={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},matchHTML=doNotSkipEncoded?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(code){return code?code.toString().replace(matchHTML,function(m){return encodeHTMLRules[m]||m}):""}};_globals=(function(){return this||(0,eval)("this")}());if(typeof module!=="undefined"&&module.exports){module.exports=doT}else{if(typeof define==="function"&&define.amd){define(function(){return doT})}else{_globals.doT=doT}}var startend={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},skip=/$^/;function resolveDefs(c,block,def){return((typeof block==="string")?block:block.toString()).replace(c.define||skip,function(m,code,assign,value){if(code.indexOf("def.")===0){code=code.substring(4)}if(!(code in def)){if(assign===":"){if(c.defineParams){value.replace(c.defineParams,function(m,param,v){def[code]={arg:param,text:v}})}if(!(code in def)){def[code]=value}}else{new Function("def","def['"+code+"']="+value)(def)}}return""}).replace(c.use||skip,function(m,code){if(c.useParams){code=code.replace(c.useParams,function(m,s,d,param){if(def[d]&&def[d].arg&&param){var rw=(d+":"+param).replace(/'|\\/g,"_");def.__exp=def.__exp||{};def.__exp[rw]=def[d].text.replace(new RegExp("(^|[^\\w$])"+def[d].arg+"([^\\w$])","g"),"$1"+param+"$2");return s+"def.__exp['"+rw+"']"}})}var v=new Function("def","return "+code)(def);return v?resolveDefs(c,v,def):v})}function unescape(code){return code.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}doT.template=function(tmpl,c,def){c=c||doT.templateSettings;var cse=c.append?startend.append:startend.split,needhtmlencode,sid=0,indv,str=(c.use||c.define)?resolveDefs(c,tmpl,def||{}):tmpl;str=("var out='"+(c.strip?str.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):str).replace(/'|\\/g,"\\$&").replace(c.interpolate||skip,function(m,code){return cse.start+unescape(code)+cse.end}).replace(c.encode||skip,function(m,code){needhtmlencode=true;return cse.startencode+unescape(code)+cse.end}).replace(c.conditional||skip,function(m,elsecase,code){return elsecase?(code?"';}else if("+unescape(code)+"){out+='":"';}else{out+='"):(code?"';if("+unescape(code)+"){out+='":"';}out+='")}).replace(c.iterate||skip,function(m,iterate,vname,iname){if(!iterate){return"';} } out+='"}sid+=1;indv=iname||"i"+sid;iterate=unescape(iterate);return"';var arr"+sid+"="+iterate+";if(arr"+sid+"){var "+vname+","+indv+"=-1,l"+sid+"=arr"+sid+".length-1;while("+indv+"<l"+sid+"){"+vname+"=arr"+sid+"["+indv+"+=1];out+='"}).replace(c.evaluate||skip,function(m,code){return"';"+unescape(code)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"");if(needhtmlencode){if(!c.selfcontained&&_globals&&!_globals._encodeHTML){_globals._encodeHTML=doT.encodeHTMLSource(c.doNotSkipEncoded)}str="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+doT.encodeHTMLSource.toString()+"("+(c.doNotSkipEncoded||"")+"));"+str}try{return new Function(c.varname,str)}catch(e){if(typeof console!=="undefined"){console.log("Could not create a template function: "+str)}throw e}};doT.compile=function(tmpl,def){return doT.template(tmpl,null,def)}}());$(function(){var a=(function(){var d=!![].map&&document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")==0;return function(){return d}})();var b=b||{};b.lazyLoad=function(){var d=$("img[lazy-src]");d.each(function(){var f=$(this);if(b.isInScreen(f)){if(a()){var e="";e=f.attr("lazy-src")+".webp";f.attr("src",e).removeAttr("lazy-src").addClass("err-product")}else{var e=f.attr("lazy-src");f.attr("src",e).removeAttr("lazy-src").addClass("err-product")}}})};b.isInScreen=function(e){var d=e;if(d.length>0){return($(window).scrollTop()+$(window).height()+200>d.offset().top)&&d.offset().top>$(window).scrollTop()-200}};var c;setTimeout(function(){b.lazyLoad()},10);$(window).scroll(function(){clearTimeout(c);c=setTimeout(function(){b.lazyLoad()},10)})});+function(b){var a=function(d,c){this.$element=b(d);this.options=b.extend({},a.DEFAULTS,c);this.timeResult={d:"00",h:"00",m:"00",s:"00"};this.timer={};this.timer_tiny={};this.flag=false;this.Init()};a.DEFAULTS={type:"ss",timeParm:0,callbackFn:"",isAutoDestroy:true,watchTime:0,watchTimeCallBackFn:{},callbackFn_tiny:"",tinyTime:10};a.prototype.Init=function(){var d=this;if(d.options.type.toLowerCase()=="ms"){d.options.timeParm=d.options.timeParm/1000}d.stop();d.countDownDetail();var c=0,e=0;d.timer=window.setInterval(function(){c=new Date().getTime();if(d.$element.attr("data-time")){e=parseInt(d.$element.attr("data-time"))}if(c-e>=300){d.countDownDetail();d.$element.attr("data-time",c)}},1000)};a.prototype.reInit=function(c){var d=this;d.stop();d.options=b.extend({},d.options,c);d.flag=true;d.Init()};a.prototype.countDownDetail=function(){var e=this;try{var c=0;var f=e.options.timeParm;e._interCountDown(f)}catch(d){e.timeResult={msg:d};e.destory()}if(e.options.callbackFn&&typeof e.options.callbackFn=="function"){e.options.callbackFn(e.timeResult,e.$element,e)}if(e.options.timeParm>0&&e.options.timeParm<10){e.timer_tiny=setTimeout(function(){e.setMill()},100)}};a.prototype._interCountDown=function(h){var g=this;var f=parseInt(h);if(!isNaN(f)){if(g.watching()){if(g.options.watchTimeCallBackFn&&typeof g.options.watchTimeCallBackFn=="function"){g.options.watchTimeCallBackFn(g.timeResult,g.$element,g)}return}f--;g.options.timeParm=f;var e=0;var d=0;var c=0;var i=0;e=f%60;d=Math.floor(f%86400%3600/60);c=Math.floor(f%86400/3600);i=Math.floor(f/86400);e=this.toDouble(e);d=this.toDouble(d);c=this.toDouble(c);g.timeResult={d:i,h:c,m:d,s:e}}else{g.timeResult={msg:"not a number"};g.destory()}};a.prototype.toDouble=function(c){c=parseInt(c);return c<10?"0"+c:c.toString()};a.prototype.watching=function(){var c=this;if(parseInt(c.options.watchTime)<0){c.stop();if(c.options.isAutoDestroy){c.destory()}return true}else{if(parseInt(c.options.watchTime)==0){if(parseInt(c.options.timeParm)<=0){c.stop();if(c.options.isAutoDestroy){c.destory()}return true}}else{if(parseInt(c.options.watchTime)<=parseInt(c.options.timeParm)){c.stop();if(c.options.isAutoDestroy){c.destory()}return true}}}return false};a.prototype.stop=function(){var c=this;clearInterval(c.timer);clearTimeout(c.timer_tiny)};a.prototype.destory=function(){var c=this;if(c!=null&&c!=undefined){clearInterval(c.timer);clearTimeout(c.timer_tiny);this.$element.data("sp.spCountDown",null)}};a.prototype.setMill=function(){var c=this;c.options.tinyTime--;if(c.options.tinyTime<0){c.options.tinyTime=10}else{c.options.callbackFn_tiny(c.options.tinyTime,c.$element,c);c.timer_tiny=setTimeout(function(){c.setMill()},100)}};a.prototype.countDownTiny=function(){var c=this;if(c.options.callbackFn_tiny&&typeof c.options.callbackFn_tiny=="function"){c.options.tinyTime--;if(c.options.timeParm<=0){clearInterval(c.timer_tiny);c.options.tinyTime=9;return}else{if(c.options.tinyTime==-1){c.options.tinyTime=9}}if(c.watching()){c.options.tinyTime=0}c.options.callbackFn_tiny(c.options.tinyTime,c.$element,c)}};b.fn.spCountDown=function(c){return this.each(function(){var e=b(this);var d=e.data("sp.spCountDown");if(d==null||d==undefined){e.data("sp.spCountDown",(d=new a(this,c)))}else{d.reInit(c)}})}}(window.jQuery);var b2cIndex=b2cIndex||{};b2cIndex.Slide=function(d,c){this.opt=$.extend({event:"click",mouseOverDelay:0,auto:true,delay:5000,duration:500,showLabel:true,onchange:function(a){},onchangestart:function(a){},oninitend:function(a){}},c);this.container=$(d);this.items=this.container.find("li");this.index=0;this.pager=null;this.animating=false;this._init()};b2cIndex.subItme=function(){var c=0,a=$(".commodity-list").height();for(var b=0;b<$(".commodity-listmore").length;b++){c+=$(".commodity-listmore").eq(b).height();if(c>=$(".commodity-list").height()){c-=$(".commodity-listmore").eq(b).height();$(".commodity-listmore").eq(b).css({height:a-c+"px",overflow:"hidden"});$(".commodity-listmore").eq(b).nextAll().hide();break}}$(".commodity-listmore").on("mouseenter",function(){if($(this).find(".sub-commodity-tag dd a").length>0){$(this).addClass("commodity-listmoreactive").find(".sub-commodity-tag").show()}});$(".commodity-listmore").on("mouseleave",function(){if($(this).find(".sub-commodity-tag dd a").length>0){$(this).removeClass("commodity-listmoreactive").find(".sub-commodity-tag").hide()}})};b2cIndex.Slide.prototype={_init:function(){var b=this;if(this.items.length>1&&this.opt.showLabel){this._createLabel()}this.to(0);if(this.opt.auto){this.autoStart();this.container.hover(function(){b.autoPause();$(".point").show()},function(){b.autoStart();$(".point").hide()})}this.opt.oninitend.call(this,this.container);$(".left-point").on("click",function(){b.prev()});$(".right-point").on("click",function(){b.next()})},_createLabel:function(){var e=this,h=[],g,f;h.push('<div class="banner-nav">');for(f=1;f<=this.items.size();f++){h.push('<a name="hwg_none_lbgg_yd0'+f+'" href="javascript:;" class="page-item"></a>')}h.push("</div>");this.pager=typeof this.opt.showLabel=="string"?this.container.find(this.opt.showLabel):$(h.join("")).appendTo(this.container.parent().find(".banner-nav-wrap"));if(this.opt.mouseOverDelay){this.pager.find("a").hover(function(){var a=$(this).index();g=setTimeout(function(){e.to(a)},e.opt.mouseOverDelay)},function(){clearTimeout(g)})}else{this.pager.find("a").bind(this.opt.event,function(){e.to($(this).index())})}},autoStart:function(){var b=this;this.timer=setInterval(function(){b.next()},this.opt.delay)},autoPause:function(){clearInterval(this.timer)},prev:function(){this.to(this.index==0?this.items.size()-1:this.index-1)},next:function(){this.to(this.index==this.items.size()-1?0:this.index+1)},to:function(f){var e=this;if(this.animating){return false}this.opt.onchangestart.call(this,f);this.animating=true;this.items.stop().eq(f).fadeIn(this.opt.duration,function(){e.animating=false}).siblings().fadeOut(this.opt.duration);this.pager&&this.pager.find("a").eq(f).addClass("current").siblings().removeClass("current");var h=this.items.eq(f).find("img");var g=h.attr("src3");setTimeout(function(){h.attr("src",g).removeAttr("src3")},100);this.index=f;this.opt.onchange.call(this,f)}};b2cIndex.banner=function(){var b=new b2cIndex.Slide(".banner",{mouseOverDelay:500,duration:300,delay:5000,oninitend:function(a){var c=a.find(".banner-nav a")}})};b2cIndex.hotSingle=function(){$(".hot-single-con ul").eq(0).show();$(".hot-single-tab").on("hover","li",function(){var a=$(this).index();$(this).addClass("active").siblings("li").removeClass("active");$(".hot-single-con ul").eq(a).show().siblings().hide()})};b2cIndex.commentTrue=function(){var d=parseInt($(".comment-list li").length);var a=parseInt($(".comment-list li").eq(0).outerWidth(true));var b=parseInt(a)*d;$(".comment-list ul").css("width",b+"px");if(d>4){var c=0;$(".comment-box").on("click"," .comment-prev[animated]",function(){if($(".comment-list ul").is(":animated")){return}var e=$(this);c+=a;$(".comment-list ul").stop().animate({left:c},500,function(){$(".comment-box .comment-next").attr("animated","true");if(parseInt(c)==0){e.removeAttr("animated")}})});$(".comment-box").on("click",".comment-next[animated]",function(){if($(".comment-list ul").is(":animated")){return}var e=$(this);c-=a;$(".comment-list ul").stop().animate({left:c},500,function(){$(".comment-box .comment-prev").attr("animated","true");if(parseInt(c)==-(b-a*4)){e.removeAttr("animated")}})})}else{$(".comment-box .comment-prev").hide();$(".comment-box .comment-next").hide()}};b2cIndex.hotShop=function(){$(".commodity-tabCon").on("hover","li",function(){var a=$(this).index();$(this).addClass("active").siblings("li").removeClass("active");$(this).parents(".hot-commodity").find(".commodity-conList ul").eq(a).show().siblings().hide();lazyelem.listen("li[data-sku]","fn",function(b){supermarket1.priceDOM.push(b);if(supermarket1.getPriceFlag){return}supermarket1.getPrice()})})};b2cIndex.submitSearch=function(){var c="//2.suning.com";var d=$("#tipMsg").val();var b=$("#search-Keywords").val();var a=$("#shpPcSchCode").val();if(b!=null&&b!=""&&b!=d){c="//search.suning.com/"+b+"/&ci="+a}window.open(c)};b2cIndex.yqpgAjax=function(){if(!$("#xsqgFloor").length){return}var a=shp.shpDomain+"/getBigSaleList4PcHomepage.htm";$.ajax({url:a,type:"get",cache:true,data:{},dataType:"jsonp",jsonp:"callback",jsonpCallback:"ypqgcallback",timeout:5000,error:function(b,d,c){},success:function(d){var c=d.bigsaleInfoList;if(c){$("#ypqgul").html(doT.template($("#ypqg").html())({idata:c}));var b=d.gbEndTime;if(b){b2cIndex.timeOutLoader(b)}b2cIndex.limitTimeSwiper();if($(".sec-box").length){if(b2cIndex.isVisible(".sec-box")){$(".status-bar").slice(0,6).each(function(){var e=$(this).find("input").val();$(this).animate({width:e},1000)})}}$(window).on("scroll",function(){if($(".sec-box").length){if(b2cIndex.isVisible(".sec-box")){$(".status-bar").slice(0,6).each(function(){var e=$(this).find("input").val();$(this).animate({width:e},1000)})}}})}else{$("#xsqgFloor").remove()}},complete:function(b){}})};function ypqgcallback(a){}b2cIndex.isVisible=function(b){var d;if("object"===typeof b){d=b}else{d=$(b)}var c=d.offset();var a=$(window);return(c.top+d.outerHeight()<a.scrollTop()+a.height()&&c.top+d.outerHeight()>a.scrollTop())};b2cIndex.timeOutLoader=function(d){var j=new Date();var a=d.substring(0,10);var b=d.substring(11,13);var c=d.substring(14,16);var e=d.substring(17,19);var h=new Date(Date.parse(a));h.setHours(b,c,e,0);var i=j.getTime();var g=h.getTime();var f=g-i;if(f>0){$(".timer-box").spCountDown({type:"ms",timeParm:f,callbackFn:function(k,m){var l=parseInt(k.h);var o=parseInt(k.d*24);var n=o+l;n=n<10?"0"+n:n.toString();$("#countdown_h").html(n);$("#countdown_m").html(k.m);$("#countdown_s").html(k.s)}})}};var pageIndex=0;b2cIndex.limitTimeSwiper=function(){var c=false;var d=$(".sec-box li").length;var a=$(".sec-box ul");var e=$(".sec-box");var b=Math.floor(d/6)+1;a.css("width",d*197+"px");e.on("mouseover",function(){if(pageIndex>=b-1){$(".arrow-left").show();$(".arrow-right").hide()}else{if(pageIndex<=0){$(".arrow-left").hide();$(".arrow-right").show()}else{$(".arrow-left").show();$(".arrow-right").show()}}});e.on("mouseout",function(){$(".arrow-left").hide();$(".arrow-right").hide()});$(".arrow-left").on("click",function(){if(pageIndex<=0||c){return}$(".arrow-left").show();$(".arrow-right").show();var g=parseInt(a.position().left);var f=parseInt(-g/197);if(f<6){c=true;a.animate({left:0+"px"},500,"linear",function(){c=false})}else{c=true;a.animate({left:g+6*197+"px"},500,"linear",function(){c=false})}pageIndex--;if(pageIndex==0){$(".arrow-left").hide()}});$(".arrow-right").on("click",function(){if(pageIndex>=b-1||c){return}$(".arrow-left").show();$(".arrow-right").show();var g=parseInt(a.position().left);var f=d-6-parseInt(-g/197);if(f<6){c=true;a.animate({left:g-f*197+"px"},500,"linear",function(){c=false;g=parseInt(a.position().left);$(".status-bar").slice(parseInt(-g/197),parseInt(-g/197)+6).each(function(){var h=$(this).find("input").val();$(this).animate({width:h},1000)})})}else{c=true;a.animate({left:g-6*197+"px"},500,"linear",function(){c=false;g=parseInt(a.position().left);$(".status-bar").slice(parseInt(-g/197),parseInt(-g/197)+6).each(function(){var h=$(this).find("input").val();$(this).animate({width:h},1000)})})}pageIndex++;if(pageIndex>=b-1){$(".arrow-right").hide()}})};b2cIndex.wxQgStatusBar=function(){if(!$("#limit-box-rp").length){return}b2cIndex.limitTimeSwiper();if($(".sec-box").length){if(b2cIndex.isVisible(".sec-box")){$(".status-bar").slice(0,6).each(function(){var a=$(this).find("input").val();$(this).animate({width:a},1000)})}}$(window).on("scroll",function(){if($(".sec-box").length){if(b2cIndex.isVisible(".sec-box")){$(".status-bar").slice(0,6).each(function(){var a=$(this).find("input").val();$(this).animate({width:a},1000)})}}})};b2cIndex.showHiddenCode=function(){var a=false;$(".dl-code").on("mouseover",function(){if(a){return}a=true;$(".code-show").show();$(".code-show").css("opacity",0);$(".code-show").css("filter","alpha(opacity=0)");$(".code-show").animate({opacity:1},300,"linear")});$(".dl-code").on("mouseleave",function(){a=false;$(".code-show").hide()})};b2cIndex.timeOutLoaderRP=function(){if(!$("#limit-box-rp").length){return}var j=new Date();var h=null;var e=$("#ju_deadTime").val();if(typeof(e)=="undefined"||e==null||e==""){h=getTomorrowZeroTime()}else{var a=e.substring(0,10);var b=e.substring(11,13);var c=e.substring(14,16);var d=e.substring(17,19);h=new Date(Date.parse(a));h.setHours(b,c,d,0)}var i=j.getTime();var g=h.getTime();var f=g-i;if(f>0){$("#timer-box-rp").spCountDown({type:"ms",timeParm:f,callbackFn:function(k,m){var l=parseInt(k.d);$("#rp_countdown_d").html(l);$("#rp_countdown_h").html(k.h);$("#rp_countdown_m").html(k.m)}})}};function getTomorrowZeroTime(){var b=new Date();var d=b.getHours()*60*60+b.getMinutes()*60+b.getSeconds();var c=b.getTime()+86400000-d*1000;var a=new Date(c);return a}$(function(){b2cIndex.banner();b2cIndex.yqpgAjax();b2cIndex.timeOutLoaderRP();b2cIndex.wxQgStatusBar();b2cIndex.showHiddenCode();b2cIndex.hotSingle();b2cIndex.commentTrue();b2cIndex.hotShop();$("#search-Keywords").focus(function(){var a=$("#tipMsg").val();if($(this).val()==a){$(this).val("");$(this).css("color","#333")}});$("#search-Keywords").blur(function(){var a=$("#search-Keywords").val();var b=$("#tipMsg").val();if(a==""||a==b){$(this).val(b);$(this).css("color","#ccc")}});$("#searchSubmit").on("click",function(){b2cIndex.submitSearch()});$("#search-Keywords").keydown(function(a){if(a.which==13){$("#searchSubmit").click();return false}});$(".tabCnt").each(function(){var a=$(this).find("li").length;if(a<2){$(this).html("")}else{$(this).find("li").eq(0).addClass("active")}});b2cIndex.subItme()});